<html lang="ja">
  <head>
    <meta charset="utf-8"/>
		<!-- レスポンシブ動作対応 -->
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<!-- PyScript -->
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>

		<!-- タイピングアニメーション -->
		<script src="https://unpkg.com/ityped@1.0.3"></script>
  </head>
  <body>
		<ul>
			<li><span id="info-version"></span></li>
		</ul>

		<span id="ityped"></span>
		<ul>
			<li>
				<span id="info-suit"></span>
				<button py-click="get_suit()" class="py-button">get suit</button>
			</li>
		</ul>

    <section class="pyscript">
			<py-config>
				[[fetch]]
				files = ["./utils/card.py", "./utils/base.py"]
			</py-config>
      <py-script>
import random
import platform

from utils.card import Suit

display(f"Python version: {platform.python_version()}", target="info-version")

def get_suit():
	suit = [Suit.spade, Suit.heart, Suit.diamond, Suit.club][random.randint(0, 3)]
	display(f"suit : {suit.mark()}", target="info-suit")
      </py-script>
    </section>

		<script>
			ityped.init(document.querySelector("#ityped"), {
			  strings: ['このサイトは、Nap CLI を作成する予定です', '以下の項目については完了しております'],
			  loop: true,
			  disableBackTyping: false,
			})

		</script>

		<!-- カーソルの点滅をコントロールする -->
		<style>
			.ityped-cursor {
				opacity: 1;
				animation: blink 0.3s infinite;
				animation-direction: alternate;
		}
		
			@keyframes blink {
					100% {
							opacity: 0;
					}
			}
		</style>
  </body>
</html>